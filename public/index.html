<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Formulario – Levantamiento de Procesos</title>

  <!-- Tailwind CDN (válido para piloto/local) -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-50 text-slate-900">
  <div class="max-w-5xl mx-auto px-4 py-6">

    <!-- ENCABEZADO -->
    <div class="bg-white border border-slate-200 rounded-2xl p-6 flex items-center gap-6">
      <img src="logo.png"
           alt="Logo institucional"
           class="h-16 w-auto object-contain"
           onerror="this.style.display='none'">

      <div>
        <h1 class="text-2xl font-bold leading-tight">
          Formulario tipo para levantamiento de procesos
        </h1>
        <p class="text-slate-600 text-sm mt-1">
          Nivel proceso (flujo principal), enfoque Secretaría de Gobierno Digital
        </p>
      </div>
    </div>

    <!-- INSTRUCCIONES -->
    <div class="bg-white border border-slate-200 rounded-2xl p-5 mt-4">
      <h2 class="font-semibold">Instrucciones generales</h2>
      <ul class="list-disc pl-5 mt-2 text-sm text-slate-600 space-y-1">
        <li>Los campos con <span class="text-red-600 font-semibold">*</span> son obligatorios.</li>
        <li>Describa cómo se realiza actualmente el proceso (AS-IS).</li>
        <li>Use roles/cargos (no nombres).</li>
      </ul>
    </div>

    <form id="form-levantamiento" class="mt-4 space-y-4" autocomplete="off">

      <!-- I. IDENTIFICACIÓN -->
      <section class="bg-white border border-slate-200 rounded-2xl p-5">
        <h2 class="font-semibold mb-4">I. Identificación del proceso</h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium mb-1">
              1. Nombre del proceso <span class="text-red-600 font-semibold">*</span>
            </label>
            <input name="nombre_proceso" type="text" required
              class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300"
              placeholder="Ej.: Otorgamiento de Licencia de Conducir">
          </div>

          <div>
            <label class="block text-sm font-medium mb-1">
              2. Unidad responsable <span class="text-red-600 font-semibold">*</span>
            </label>
            <input name="unidad_responsable" type="text" required
              class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300"
              placeholder="Dirección / Departamento / Oficina">
          </div>
        </div>

        <div class="mt-4 space-y-4">
          <div>
            <label class="block text-sm font-medium mb-1">
              3. Objetivo del proceso <span class="text-red-600 font-semibold">*</span>
            </label>
            <textarea name="objetivo_proceso" required
              class="w-full min-h-[96px] rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300"></textarea>
          </div>

          <div>
            <label class="block text-sm font-medium mb-1">
              4. Producto o resultado final <span class="text-red-600 font-semibold">*</span>
            </label>
            <textarea name="resultado_final" required
              class="w-full min-h-[96px] rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300"></textarea>
          </div>
        </div>
      </section>

      <!-- II. INICIO Y TÉRMINO -->
      <section class="bg-white border border-slate-200 rounded-2xl p-5">
        <h2 class="font-semibold mb-4">II. Inicio y término</h2>

        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium mb-1">
              5. ¿Qué evento da inicio al proceso? <span class="text-red-600 font-semibold">*</span>
            </label>
            <textarea name="evento_inicio" required
              class="w-full min-h-[96px] rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300"></textarea>
          </div>

          <div>
            <label class="block text-sm font-medium mb-1">
              6. ¿Cómo finaliza el proceso? <span class="text-red-600 font-semibold">*</span>
            </label>
            <textarea name="evento_termino" required
              class="w-full min-h-[96px] rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300"></textarea>
          </div>
        </div>
      </section>

      <!-- III. ACTORES -->
      <section class="bg-white border border-slate-200 rounded-2xl p-5">
        <h2 class="font-semibold mb-4">III. Actores involucrados</h2>

        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium mb-1">
              7. Actores (roles/unidades) <span class="text-red-600 font-semibold">*</span>
            </label>
            <textarea name="actores" required
              class="w-full min-h-[96px] rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300"
              placeholder="Ej.: Ventanilla, Jefatura, Dirección, Finanzas, etc."></textarea>
          </div>

          <div class="rounded-2xl border border-slate-200 p-4">
            <p class="text-sm font-medium">
              8. ¿Participan instituciones externas? <span class="text-red-600 font-semibold">*</span>
            </p>
            <div class="mt-2 flex gap-6 text-sm">
              <label class="inline-flex items-center gap-2">
                <input type="radio" name="instituciones_externas" value="si" class="accent-slate-900" required>
                Sí
              </label>
              <label class="inline-flex items-center gap-2">
                <input type="radio" name="instituciones_externas" value="no" class="accent-slate-900">
                No
              </label>
            </div>

            <div class="mt-3">
              <label class="block text-sm font-medium mb-1">
                Si es “Sí”, indique cuáles <span class="text-red-600 font-semibold">*</span>
              </label>
              <input name="instituciones_externas_detalle" type="text"
                class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300"
                placeholder="Ej.: Registro Civil, SEREMI, Tesorería, etc.">
              <p class="text-xs text-slate-500 mt-1">Obligatorio si selecciona “Sí”.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- IV. ACTIVIDADES -->
      <section class="bg-white border border-slate-200 rounded-2xl p-5">
        <div class="flex items-start justify-between flex-wrap gap-4">
          <div>
            <h2 class="font-semibold">
              IV. Actividades principales del proceso <span class="text-red-600 font-semibold">*</span>
            </h2>
            <p class="text-sm text-slate-600 mt-1">
              Debe ingresar al menos 1 actividad. Para cada actividad ingresada, el ejecutor es obligatorio.
            </p>
          </div>

          <div class="flex gap-2">
            <button type="button" id="btn-add-actividad"
              class="px-3 py-2 rounded-xl border border-slate-200 bg-white text-sm font-semibold hover:bg-slate-50">
              + Agregar
            </button>
            <button type="button" id="btn-remove-actividad"
              class="px-3 py-2 rounded-xl border border-slate-200 bg-white text-sm font-semibold hover:bg-slate-50">
              − Quitar última
            </button>
          </div>
        </div>

        <div class="mt-4 overflow-x-auto">
          <table class="w-full text-sm border border-slate-200 rounded-xl overflow-hidden">
            <thead class="bg-slate-100">
              <tr>
                <th class="px-3 py-2 w-12 text-left">#</th>
                <th class="px-3 py-2 text-left">Actividad</th>
                <th class="px-3 py-2 text-left">Quién ejecuta (rol/cargo)</th>
              </tr>
            </thead>

            <tbody id="lista-actividades">
              <tr data-idx="1" class="border-t">
                <td class="px-3 py-2 text-slate-600">1</td>
                <td class="px-3 py-2">
                  <input type="text" name="actividad_1"
                    class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300"
                    placeholder="Ej.: Revisar antecedentes">
                </td>
                <td class="px-3 py-2">
                  <input type="text" name="ejecutor_1"
                    class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300"
                    placeholder="Ej.: Encargado/a de ...">
                </td>
              </tr>

              <tr data-idx="2" class="border-t">
                <td class="px-3 py-2 text-slate-600">2</td>
                <td class="px-3 py-2"><input type="text" name="actividad_2" class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2"></td>
                <td class="px-3 py-2"><input type="text" name="ejecutor_2" class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2"></td>
              </tr>

              <tr data-idx="3" class="border-t">
                <td class="px-3 py-2 text-slate-600">3</td>
                <td class="px-3 py-2"><input type="text" name="actividad_3" class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2"></td>
                <td class="px-3 py-2"><input type="text" name="ejecutor_3" class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2"></td>
              </tr>

              <tr data-idx="4" class="border-t">
                <td class="px-3 py-2 text-slate-600">4</td>
                <td class="px-3 py-2"><input type="text" name="actividad_4" class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2"></td>
                <td class="px-3 py-2"><input type="text" name="ejecutor_4" class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2"></td>
              </tr>

              <tr data-idx="5" class="border-t">
                <td class="px-3 py-2 text-slate-600">5</td>
                <td class="px-3 py-2"><input type="text" name="actividad_5" class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2"></td>
                <td class="px-3 py-2"><input type="text" name="ejecutor_5" class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2"></td>
              </tr>

              <tr data-idx="6" class="border-t">
                <td class="px-3 py-2 text-slate-600">6</td>
                <td class="px-3 py-2"><input type="text" name="actividad_6" class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2"></td>
                <td class="px-3 py-2"><input type="text" name="ejecutor_6" class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2"></td>
              </tr>

              <tr data-idx="7" class="border-t">
                <td class="px-3 py-2 text-slate-600">7</td>
                <td class="px-3 py-2"><input type="text" name="actividad_7" class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2"></td>
                <td class="px-3 py-2"><input type="text" name="ejecutor_7" class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- V. DOCUMENTOS Y EXPEDIENTE -->
      <section class="bg-white border border-slate-200 rounded-2xl p-5">
        <h2 class="font-semibold mb-4">V. Documentos y expediente</h2>

        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium mb-1">10. Documentos que se reciben al inicio </label>
            <textarea name="docs_inicio"
              class="w-full min-h-[96px] rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300"></textarea>
          </div>

          <div>
            <label class="block text-sm font-medium mb-1">11. Documentos que se generan durante </label>
            <textarea name="docs_durante"
              class="w-full min-h-[96px] rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300"></textarea>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium mb-1">12. ¿Cuándo se conforma expediente?</label>
              <select name="momento_expediente"
                class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300">
                <option value="" selected>Seleccione…</option>
                <option value="inicio">Al inicio</option>
                <option value="durante">Durante</option>
                <option value="final">Al final</option>
                <option value="no">No se conforma</option>
              </select>
            </div>

            <div class="rounded-2xl border border-slate-200 p-4">
              <p class="text-sm font-medium">
                13. ¿Dónde se almacenan los documentos? <span class="text-red-600 font-semibold">*</span>
              </p>

              <div class="mt-2 grid grid-cols-1 gap-2 text-sm text-slate-700">
                <label class="inline-flex items-center gap-2">
                  <input type="checkbox" name="almacenamiento" value="carpeta_fisica" class="accent-slate-900">
                  Carpeta física
                </label>
                <label class="inline-flex items-center gap-2">
                  <input type="checkbox" name="almacenamiento" value="carpeta_digital_local" class="accent-slate-900">
                  Carpeta digital local
                </label>
                <label class="inline-flex items-center gap-2">
                  <input type="checkbox" name="almacenamiento" value="sistema_informatico" class="accent-slate-900">
                  Sistema informático
                </label>
                <label class="inline-flex items-center gap-2">
                  <input type="checkbox" name="almacenamiento" value="correo_electronico" class="accent-slate-900">
                  Correo electrónico
                </label>
                <label class="inline-flex items-center gap-2">
                  <input type="checkbox" name="almacenamiento" value="otro" class="accent-slate-900">
                  Otro
                </label>

                <input type="text" name="almacenamiento_otro"
                  class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300"
                  placeholder="Si marcó 'Otro', indique cuál">
                <p class="text-xs text-slate-500">Obligatorio si marca “Otro”.</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- VI. OBSERVACIONES -->
      <section class="bg-white border border-slate-200 rounded-2xl p-5">
        <h2 class="font-semibold mb-4">VI. Observaciones y puntos críticos </h2>

        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium mb-1">14. Dificultades o problemas </label>
            <textarea name="problemas"
              class="w-full min-h-[96px] rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300"></textarea>
          </div>

          <div>
            <label class="block text-sm font-medium mb-1">15. Etapas críticas o sensibles </label>
            <textarea name="etapas_criticas"
              class="w-full min-h-[96px] rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300"></textarea>
          </div>
        </div>
      </section>

      <!-- VII. VALIDACIÓN -->
      <section class="bg-white border border-slate-200 rounded-2xl p-5">
        <h2 class="font-semibold mb-4">VII. Validación</h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="rounded-2xl border border-slate-200 p-4">
            <p class="text-sm font-medium">
              16. ¿Representa cómo se realiza hoy? <span class="text-red-600 font-semibold">*</span>
            </p>
            <div class="mt-2 flex gap-6 text-sm">
              <label class="inline-flex items-center gap-2">
                <input type="radio" name="validacion" value="si" class="accent-slate-900" required>
                Sí
              </label>
              <label class="inline-flex items-center gap-2">
                <input type="radio" name="validacion" value="no" class="accent-slate-900">
                No
              </label>
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium mb-1">17. Observaciones adicionales </label>
            <textarea name="obs_adicionales"
              class="w-full min-h-[96px] rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300"></textarea>
          </div>
        </div>
      </section>

      <!-- DATOS DE REGISTRO -->
      <section class="bg-white border border-slate-200 rounded-2xl p-5">
        <h2 class="font-semibold mb-4">Datos de registro</h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium mb-1">
              Fecha de levantamiento <span class="text-red-600 font-semibold">*</span>
            </label>
            <input type="date" name="fecha_levantamiento" required
              class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300">
          </div>

          <div>
            <label class="block text-sm font-medium mb-1">
              Unidad participante <span class="text-red-600 font-semibold">*</span>
            </label>
            <input type="text" name="unidad_participante" required
              class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300">
          </div>
        </div>

        <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium mb-1">
              Profesional levantamiento <span class="text-red-600 font-semibold">*</span>
            </label>
            <input type="text" name="profesional_levantamiento" required
              class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300">
          </div>

          <div>
            <label class="block text-sm font-medium mb-1">Contacto validación </label>
            <input type="text" name="contacto_validacion"
              class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 outline-none focus:ring-2 focus:ring-slate-300">
          </div>
        </div>
      </section>

      <!-- BOTONES -->
      <section class="bg-white border border-slate-200 rounded-2xl p-5">
        <div class="flex justify-between items-center flex-wrap gap-3">
          <p class="text-xs text-slate-500">Consejo: puede imprimir o guardar este formulario en PDF.</p>

          <div class="flex gap-2">
            <button type="button" id="btn-imprimir"
              class="px-4 py-2 rounded-xl border border-slate-200 bg-white text-sm font-semibold hover:bg-slate-50">
              Imprimir / PDF
            </button>

            <button type="reset"
              class="px-4 py-2 rounded-xl border border-slate-200 bg-white text-sm font-semibold hover:bg-slate-50">
              Limpiar
            </button>

            <button type="button" id="btn-guardar"
              class="px-4 py-2 rounded-xl bg-slate-900 text-white text-sm font-semibold hover:bg-slate-800">
              Guardar
            </button>
          </div>
        </div>
      </section>

    </form>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
