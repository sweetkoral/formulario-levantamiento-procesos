<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Formulario – Levantamiento de Procesos (DGD)</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-50 text-slate-900">
  <div class="max-w-5xl mx-auto px-4 py-8">
    <!-- Header con logo -->
    <div class="flex items-center gap-4 mb-6">
      <img src="logo.png" alt="Logo" class="h-14 w-auto rounded bg-white p-2 shadow-sm border border-slate-200"
           onerror="this.style.display='none'"/>
      <div>
        <h1 class="text-2xl font-bold">Formulario tipo para levantamiento de procesos</h1>
        <p class="text-slate-600">Nivel proceso (flujo principal), según enfoque DGD.</p>
      </div>
    </div>

    <!-- Instrucciones -->
    <div class="bg-white border border-slate-200 rounded-xl p-5 shadow-sm mb-6">
      <h2 class="font-semibold text-lg mb-2">Instrucciones generales</h2>
      <ul class="list-disc pl-5 text-slate-700 space-y-1">
        <li>Complete este formulario con la unidad responsable.</li>
        <li>Describa <span class="font-semibold">cómo se realiza hoy</span> el proceso.</li>
        <li>Concéntrese en el <span class="font-semibold">flujo principal</span> (no excepciones).</li>
        <li>Use roles/cargos, no nombres de personas.</li>
      </ul>
    </div>

    <form id="form-levantamiento" class="space-y-6" autocomplete="off">
      <!-- I. Identificación -->
      <section class="bg-white border border-slate-200 rounded-xl p-5 shadow-sm">
        <h2 class="font-semibold text-lg mb-4">I. Identificación del proceso</h2>

        <div class="grid md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium mb-1" for="p1">1. Nombre del proceso</label>
            <input id="p1" name="nombre_proceso" type="text"
              class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"
              placeholder="Ej.: Otorgamiento de Licencia de Conducir" />
          </div>
          <div>
            <label class="block text-sm font-medium mb-1" for="p2">2. Unidad responsable</label>
            <input id="p2" name="unidad_responsable" type="text"
              class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"
              placeholder="Dirección / Departamento / Oficina" />
          </div>
        </div>

        <div class="grid gap-4 mt-4">
          <div>
            <label class="block text-sm font-medium mb-1" for="p3">3. Objetivo del proceso</label>
            <textarea id="p3" name="objetivo_proceso"
              class="w-full min-h-[90px] rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"></textarea>
          </div>
          <div>
            <label class="block text-sm font-medium mb-1" for="p4">4. Producto o resultado final</label>
            <textarea id="p4" name="resultado_final"
              class="w-full min-h-[90px] rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"></textarea>
          </div>
        </div>
      </section>

      <!-- II. Inicio y término -->
      <section class="bg-white border border-slate-200 rounded-xl p-5 shadow-sm">
        <h2 class="font-semibold text-lg mb-4">II. Inicio y término</h2>
        <div class="grid gap-4">
          <div>
            <label class="block text-sm font-medium mb-1" for="p5">5. ¿Qué evento da inicio?</label>
            <textarea id="p5" name="evento_inicio"
              class="w-full min-h-[90px] rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"></textarea>
          </div>
          <div>
            <label class="block text-sm font-medium mb-1" for="p6">6. ¿Cómo finaliza?</label>
            <textarea id="p6" name="evento_termino"
              class="w-full min-h-[90px] rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"></textarea>
          </div>
        </div>
      </section>

      <!-- III. Actores -->
      <section class="bg-white border border-slate-200 rounded-xl p-5 shadow-sm">
        <h2 class="font-semibold text-lg mb-4">III. Actores involucrados</h2>

        <div class="grid gap-4">
          <div>
            <label class="block text-sm font-medium mb-1" for="p7">7. Actores (roles/unidades)</label>
            <textarea id="p7" name="actores"
              class="w-full min-h-[90px] rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"></textarea>
          </div>

          <div class="grid md:grid-cols-2 gap-4 items-start">
            <div>
              <p class="block text-sm font-medium mb-1">8. ¿Participan instituciones externas?</p>
              <div class="flex gap-4 mt-2">
                <label class="inline-flex items-center gap-2">
                  <input type="radio" name="instituciones_externas" value="si" class="accent-slate-700"/>
                  <span>Sí</span>
                </label>
                <label class="inline-flex items-center gap-2">
                  <input type="radio" name="instituciones_externas" value="no" class="accent-slate-700"/>
                  <span>No</span>
                </label>
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium mb-1" for="p8b">Si es sí, ¿cuáles?</label>
              <input id="p8b" name="instituciones_externas_detalle" type="text"
                class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
            </div>
          </div>
        </div>
      </section>

      <!-- IV. Actividades -->
      <section class="bg-white border border-slate-200 rounded-xl p-5 shadow-sm">
        <div class="flex items-start justify-between gap-4 mb-3">
          <div>
            <h2 class="font-semibold text-lg">IV. Actividades principales del proceso</h2>
            <p class="text-sm text-slate-600 mt-1">
              9. Actividades en orden (se recomienda ≤ 7; agregar solo si es necesario).
            </p>
          </div>

          <div class="flex gap-2">
            <button type="button" id="btn-add-actividad"
              class="px-3 py-2 rounded-lg border border-slate-300 bg-white hover:bg-slate-50 font-semibold">
              + Agregar
            </button>
            <button type="button" id="btn-remove-actividad"
              class="px-3 py-2 rounded-lg border border-slate-300 bg-white hover:bg-slate-50 font-semibold">
              − Quitar
            </button>
          </div>
        </div>

        <!-- Cabecera de columnas -->
        <div class="grid grid-cols-12 gap-3 text-sm font-semibold text-slate-700 mb-2">
          <div class="col-span-7">Actividad</div>
          <div class="col-span-5">Ejecutor / Rol</div>
        </div>

        <div id="lista-actividades" class="space-y-3">
          <!-- filas iniciales (7) -->
          <!-- Cada fila se construye igual: actividad + ejecutor -->
          <div class="grid grid-cols-12 gap-3 items-start" data-idx="1">
            <div class="col-span-7">
              <input name="actividad_desc_1" type="text" placeholder="Actividad 1"
                class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
            </div>
            <div class="col-span-5">
              <input name="actividad_ejec_1" type="text" placeholder="Ej.: Encargado de Informática"
                class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
            </div>
          </div>

          <div class="grid grid-cols-12 gap-3 items-start" data-idx="2">
            <div class="col-span-7">
              <input name="actividad_desc_2" type="text" placeholder="Actividad 2"
                class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
            </div>
            <div class="col-span-5">
              <input name="actividad_ejec_2" type="text" placeholder="Ej.: Jefe de Área"
                class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
            </div>
          </div>

          <div class="grid grid-cols-12 gap-3 items-start" data-idx="3">
            <div class="col-span-7">
              <input name="actividad_desc_3" type="text" placeholder="Actividad 3"
                class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
            </div>
            <div class="col-span-5">
              <input name="actividad_ejec_3" type="text" placeholder="Ejecutor / Rol"
                class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
            </div>
          </div>

          <div class="grid grid-cols-12 gap-3 items-start" data-idx="4">
            <div class="col-span-7">
              <input name="actividad_desc_4" type="text" placeholder="Actividad 4"
                class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
            </div>
            <div class="col-span-5">
              <input name="actividad_ejec_4" type="text" placeholder="Ejecutor / Rol"
                class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
            </div>
          </div>

          <div class="grid grid-cols-12 gap-3 items-start" data-idx="5">
            <div class="col-span-7">
              <input name="actividad_desc_5" type="text" placeholder="Actividad 5"
                class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
            </div>
            <div class="col-span-5">
              <input name="actividad_ejec_5" type="text" placeholder="Ejecutor / Rol"
                class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
            </div>
          </div>

          <div class="grid grid-cols-12 gap-3 items-start" data-idx="6">
            <div class="col-span-7">
              <input name="actividad_desc_6" type="text" placeholder="Actividad 6"
                class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
            </div>
            <div class="col-span-5">
              <input name="actividad_ejec_6" type="text" placeholder="Ejecutor / Rol"
                class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
            </div>
          </div>

          <div class="grid grid-cols-12 gap-3 items-start" data-idx="7">
            <div class="col-span-7">
              <input name="actividad_desc_7" type="text" placeholder="Actividad 7"
                class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
            </div>
            <div class="col-span-5">
              <input name="actividad_ejec_7" type="text" placeholder="Ejecutor / Rol"
                class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
            </div>
          </div>
        </div>

        <p class="text-xs text-slate-500 mt-3">
          Tip: redacte actividad como “verbo + objeto” (ej.: “Revisar antecedentes”). El ejecutor debe ser un rol/cargo.
        </p>
      </section>

      <!-- V. Documentos -->
      <section class="bg-white border border-slate-200 rounded-xl p-5 shadow-sm">
        <h2 class="font-semibold text-lg mb-4">V. Documentos y gestión documental</h2>

        <div class="grid gap-4">
          <div>
            <label class="block text-sm font-medium mb-1" for="p10">10. Documentos que se reciben al inicio</label>
            <textarea id="p10" name="docs_inicio"
              class="w-full min-h-[90px] rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"></textarea>
          </div>

          <div>
            <label class="block text-sm font-medium mb-1" for="p11">11. Documentos que se generan durante</label>
            <textarea id="p11" name="docs_durante"
              class="w-full min-h-[90px] rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"></textarea>
          </div>

          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium mb-1" for="p12">12. ¿Cuándo se conforma expediente?</label>
              <select id="p12" name="momento_expediente"
                class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400">
                <option value="" selected>Seleccione…</option>
                <option value="inicio">Al inicio</option>
                <option value="durante">Durante</option>
                <option value="final">Al final</option>
                <option value="no">No se conforma</option>
              </select>
            </div>

            <div>
              <p class="block text-sm font-medium mb-1">13. ¿Dónde se almacenan los documentos?</p>
              <div class="grid gap-2 text-sm text-slate-700">
                <label class="inline-flex items-center gap-2"><input type="checkbox" name="almacenamiento" value="carpeta_fisica" class="accent-slate-700"> Carpeta física</label>
                <label class="inline-flex items-center gap-2"><input type="checkbox" name="almacenamiento" value="carpeta_digital_local" class="accent-slate-700"> Carpeta digital local</label>
                <label class="inline-flex items-center gap-2"><input type="checkbox" name="almacenamiento" value="sistema_informatico" class="accent-slate-700"> Sistema informático</label>
                <label class="inline-flex items-center gap-2"><input type="checkbox" name="almacenamiento" value="correo_electronico" class="accent-slate-700"> Correo electrónico</label>
                <label class="inline-flex items-center gap-2"><input type="checkbox" name="almacenamiento" value="otro" class="accent-slate-700"> Otro</label>
                <input type="text" name="almacenamiento_otro" placeholder="Si marcó 'Otro', indique cuál"
                  class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- VI. Observaciones -->
      <section class="bg-white border border-slate-200 rounded-xl p-5 shadow-sm">
        <h2 class="font-semibold text-lg mb-4">VI. Observaciones y puntos críticos</h2>

        <div class="grid gap-4">
          <div>
            <label class="block text-sm font-medium mb-1" for="p14">14. Dificultades o problemas</label>
            <textarea id="p14" name="problemas"
              class="w-full min-h-[90px] rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"></textarea>
          </div>
          <div>
            <label class="block text-sm font-medium mb-1" for="p15">15. Etapas críticas o sensibles</label>
            <textarea id="p15" name="etapas_criticas"
              class="w-full min-h-[90px] rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"></textarea>
          </div>
        </div>
      </section>

      <!-- VII. Validación -->
      <section class="bg-white border border-slate-200 rounded-xl p-5 shadow-sm">
        <h2 class="font-semibold text-lg mb-4">VII. Validación</h2>

        <div class="grid md:grid-cols-2 gap-4">
          <div>
            <p class="block text-sm font-medium mb-1">16. ¿Representa cómo se realiza hoy?</p>
            <div class="flex gap-4 mt-2">
              <label class="inline-flex items-center gap-2"><input type="radio" name="validacion" value="si" class="accent-slate-700"> Sí</label>
              <label class="inline-flex items-center gap-2"><input type="radio" name="validacion" value="no" class="accent-slate-700"> No</label>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium mb-1" for="p17">17. Observaciones adicionales</label>
            <textarea id="p17" name="obs_adicionales"
              class="w-full min-h-[90px] rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"></textarea>
          </div>
        </div>
      </section>

      <!-- Datos de registro + botones -->
      <section class="bg-white border border-slate-200 rounded-xl p-5 shadow-sm">
        <h2 class="font-semibold text-lg mb-4">Datos de registro</h2>

        <div class="grid md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium mb-1" for="fecha">Fecha</label>
            <input id="fecha" name="fecha_levantamiento" type="date"
              class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
          </div>
          <div>
            <label class="block text-sm font-medium mb-1" for="unidad_participante">Unidad participante</label>
            <input id="unidad_participante" name="unidad_participante" type="text"
              class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
          </div>
        </div>

        <div class="grid md:grid-cols-2 gap-4 mt-4">
          <div>
            <label class="block text-sm font-medium mb-1" for="profesional">Profesional levantamiento</label>
            <input id="profesional" name="profesional_levantamiento" type="text"
              class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
          </div>
          <div>
            <label class="block text-sm font-medium mb-1" for="contacto">Contacto validación (opcional)</label>
            <input id="contacto" name="contacto_validacion" type="text"
              class="w-full rounded-lg border border-slate-300 bg-slate-50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-slate-400"/>
          </div>
        </div>

        <div class="flex flex-wrap items-center justify-between gap-3 mt-6">
          <p class="text-sm text-slate-600">Consejo: use “Imprimir” para guardar PDF si lo necesita.</p>

          <div class="flex gap-2">
            <button type="button" id="btn-imprimir"
              class="px-4 py-2 rounded-lg border border-slate-300 bg-white hover:bg-slate-50 font-semibold">
              Imprimir / Guardar PDF
            </button>
            <button type="reset"
              class="px-4 py-2 rounded-lg border border-slate-300 bg-white hover:bg-slate-50 font-semibold">
              Limpiar
            </button>
            <button type="button" id="btn-guardar"
              class="px-4 py-2 rounded-lg bg-slate-900 text-white hover:bg-slate-800 font-semibold">
              Guardar
            </button>
          </div>
        </div>
      </section>
    </form>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
